flowchart TB
  U["User"] --> P1["P1: Authenticate User"]
  U --> P2["P2: Lobby Navigation"]
  U --> P3["P3: Game Session Management"]
  U --> P4["P4: Guess Evaluation"]
  U --> P5["P5: Leaderboard Retrieval"]

  P1 --> D1["D1: User"]
  P2 --> D2["D2: LobbySession"]
  P2 --> D3["D3: Theme"]
  P3 --> D4["D4: GameSession"]
  P3 --> D5["D5: ThemeAttributeConfig"]
  P3 --> D6["D6: Personality/Attributes/Aliases"]
  P3 --> D7["D7: AiQuestionText (Cache)"]
  P4 --> D4
  P4 --> D8["D8: GameResult"]
  P5 --> D8
  P5 --> D1

  P3 --> E1["Azure OpenAI (Optional)"]
  P3 --> E2["Gemini API (Optional)"]
